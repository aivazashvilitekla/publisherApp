<app-loading></app-loading>
<section class="register" *ngIf="step==1">
  <div class="form">
    <a routerLink="/login" class="login-link">ავტორიზაცია</a>
    <div class="name">
      <h1>რეგისტრაცია</h1>
    </div>
    <form *ngIf="registerForm" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <div class="email">
        <fa-icon [icon]="faUser"></fa-icon>
        <input type="email" placeholder="ელ.ფოსტა" formControlName="email" />
        <fa-icon [icon]="faEye" style="opacity: 0%"></fa-icon>
      </div>
      <div class="errors-container">
        <span
          class="text-danger errors"
          *ngIf="(registerForm?.get('email')?.touched || submitted) && registerForm?.get('email')?.errors?.['required']"
        >
          ელ.ფოსტა სავალდებულოა.
        </span>
        <span
          class="text-danger errors"
          *ngIf="registerForm?.get('email')?.touched && registerForm?.get('email')?.errors?.['email']"
        >
          შეიყვანეთ ვალიდური ელ ფოსტა.
        </span>
      </div>

      <div class="password">
        <fa-icon [icon]="faLock"></fa-icon>
        <input
          type="password"
          placeholder="პაროლი"
          [type]="passwordVisibility ? 'text' : 'password'"
          formControlName="password"
        />
        <fa-icon [icon]="faEye" (click)="togglePassword()"></fa-icon>
      </div>
      <div class="errors-container">
        <span
          class="text-danger errors"
          *ngIf="(registerForm?.get('password')?.touched || submitted) && registerForm?.get('password')?.errors?.['required']"
        >
          პაროლი სავალდებულოა.
        </span>
        <span
              class="text-danger errors"
              *ngIf="registerForm?.get('password')?.touched && registerForm?.get('password')?.errors?.['invalidPassword']"
            >
                პაროლი უნდა იყოს მინიმუმ 8 სიმბოლო და შეიცავდეს ბლა ბლა ბლა.
                <!-- TODO  change text
              Password should have minimum 8 characters, at least 1 uppercase
              letter, 1 lowercase letter and 1 number. -->
            </span>
      </div>
      <div class="confirmPassword">
        <fa-icon [icon]="faLock"></fa-icon>
        <input
          type="password"
          placeholder="გაიმეორეთ პაროლი"
          [type]="confirmPasswordVisibility ? 'text' : 'password'"
          formControlName="confirmPassword"
        />
        <fa-icon [icon]="faEye" (click)="toggleConfirmPassword()"></fa-icon>
      </div>
      <div class="errors-container">
        <span
          class="text-danger errors"
          *ngIf="(registerForm?.get('confirmPassword')?.touched || submitted)&& registerForm?.get('confirmPassword')?.errors?.['required']"
        >
          პაროლი სავალდებულოა.
        </span>
        <span
          class="text-danger errors"
          *ngIf="(registerForm?.get('confirmPassword')?.touched || submitted) && registerForm?.hasError('notSame')"
        >
          პაროლები არ ემთხვევა.
        </span>
        <!-- TODO add password validation -->
      </div>
      <button class="signUp">რეგისტრაცია</button>
    </form>
    <div class="links">
      <a routerLink="/" class="main">მთავარი</a>
    </div>
  </div>
</section>



<section class="fill-out-info" *ngIf="step==2">
  <div class="logo">
    <img src="../../../assets/images/tetri.png" alt="logo" />
  </div>
  <div class="cont">
    <p class="more-info">
      რეგისტრაციის დასასრულებლად გთხოვთ შეავსოთ ინფორმაცია.
    </p>
    <form *ngIf="registerInfo" [formGroup]="registerInfo">
      <div class="container">
        <input type="text" placeholder="სახელი" formControlName="firstName" />
        <input type="text" placeholder="გვარი" formControlName="lastName" />
        <button type="button" (click)="finalSave()">შემდეგი</button>
        <button type="button" style="font-size: 18px; margin-top: 5px;border: unset" (click)="back()">უკან</button>
      </div>
    </form>
  </div>
</section>
<!-- <section class="fill-out-info-pic" *ngIf="step==3">
  <div class="logo">
    <img src="../../../assets/images/tetri.png" alt="logo" />
  </div>
  <div class="cont">
    <p class="success">თქვენი ანგარიში <span>წარმატებით</span> შეიქმნა.</p>
    <p class="little-more">
      დიდი მადლობა. სულ ცოტა დარჩა.
    </p>
    <form *ngIf="registerPic" [formGroup]="registerPic">
      <div class="container">
        <h2>აირჩიე ფოტოსურათი</h2>
        <img src="../../../assets/images/upload.png" alt="upload">
        <input type="file" formControlName="pic" accept="image/*" />
        <div class="checkbx">
          <input type="checkbox" name="checkbx" formControlName="picOption"/>
          <label for="checkbx">ფოტოს გარეშე</label>
        </div>
        
        <button type="button" (click)="finalSave()">შემდეგი</button>
      </div>
    </form>
  </div>
</section> -->

